{% extends 'base.html' %}
{% load FSforms %}

{% block title %}
Select Flat Frames
{% endblock %}

{% block header %}
<script type="text/javascript">
    $(function(){
        $("#flatForm input.browseButton").click(function(){
            flatDialog.open(selectFlat.bind($(this)));
        });
    });

    function selectFlat(path){
        $(this.attr("data-textselector")).val(path);
    }
</script>
{% endblock %}

{% block content %}
    <h1>Select Flat Frames to use</h1>
<form id="flatForm">
{% for filt in improc.neededFilters %}
    <p>{{filt}} Flat
    <input type="text" name="flat_{{filt}}" id="flat_{{filt}}"/>
    <input type="button" class="browseButton" value="browse" data-textselector="#flat_{{filt}}"/>
    </p>
{% endfor %}
<p><input type="submit" value="Process" /></p>
</form>

{% fileChooserDialog 'flatDialog' 'selectFlat' 'Processed/' %}
{% endblock %}
